
## 1. 유효범위

함수를 사용해서 모듈화하는 방법


```javascript
// 전역변수를 사용하는 예제
MYAPP = {}
MYAPP.calculator = {
    'left' : null,
    'right' : null
}
MYAPP.coordinate = {
    'left' : null,
    'right' : null
}
 
MYAPP.calculator.left = 10;
MYAPP.calculator.right = 20;
function sum(){
    return MYAPP.calculator.left + MYAPP.calculator.right;
}
document.write(sum());
```

```javascript
// 함수를 사용 : 전역변수가 없어졌지만, 함수는 전역
function myfunc(){
    ...
}
myfunc();
```

```javascript
// 익명함수를 사용해서 모듈화 : 전역 객체가 없음.
(function (){
    ...
}())
```

## 2. 값으로서의 함수와 콜백

* 자바스크립트에서는 함수도 객체(값)이다.
* Callback
    * argument로 사용된 함수
* 비동기처리

```javascript
// request를 마친 후의 동작을 callback 함수로 $.get()에 넘긴다.
$.get('./datasource.json.js', function(result){console.log(result);}, 'json');
```


## 3. Closure

1) 내부함수가 외부함수의 지역변수에 접근할 수 있음.
2) (외부함수의 지역변수를 사용하는 )내부함수가 살아있으면 외부함수도 살아있음.

```javascript
// closure를 사용한 클래스 구현
function factory_movie(title){
    return {
        get_title : function (){
            return title;
        },
        set_title : function(_title){
            title = _title
        }
    }
}
ghost = factory_movie('Ghost in the shell'); // ghost.title 은 외부에서 접근 x
matrix = factory_movie('Matrix');
```

## 4. arguments

* 예약된 변수

```javascript
function sum(){
    var i;
    // arguments.length : argument의 갯수
    // arguments[i] : i번째 argument
    for(i = 0; i < arguments.length; i++){
        console.log(arguments[i]);
    }   
}
sum(1,2,3,4);
```

## 5. 함수의 호출

```javascript
function sum(arg1, arg2){
    return arg1+arg2;
}
// sum이라는 함수는 Function 객체의 인스턴스.
// Function.apply()를 사용해서 함수호출이 가능하다.
sum(1, 2);                  // 호출방법
sum.apply(null, [1,2]);     // apply method를 이용한 호출 : window.sum(1, 2)와 같은 코드
```

 
```javascript
o1 = {val1:1, val2:2, val3:3}
function sum(){
    var _sum = 0;
    for(name in this){
        _sum += this[name];
    }
    return _sum;
}
// o1.sum() 과 같은 코드 : this는 o1객체가 된다.
alert(sum.apply(o1)) // 6
```

